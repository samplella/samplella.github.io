{"version":3,"file":"index.development.js","sources":["../../../autocomplete-shared/dist/esm/getAttributeValueByPath.js","../../../autocomplete-shared/dist/esm/version.js","../../../autocomplete-shared/dist/esm/userAgents.js","../../../autocomplete-preset-algolia/dist/esm/constants/index.js","../../../autocomplete-preset-algolia/dist/esm/requester/createRequester.js","../../../autocomplete-preset-algolia/dist/esm/search/fetchAlgoliaResults.js","../../../autocomplete-js/dist/esm/userAgents.js","../../../autocomplete-js/dist/esm/requesters/createAlgoliaRequester.js","../../../autocomplete-js/dist/esm/requesters/getAlgoliaResults.js","../../src/getTemplates.tsx","../../src/createQuerySuggestionsPlugin.ts"],"sourcesContent":["export function getAttributeValueByPath(record, path) {\n  return path.reduce(function (current, key) {\n    return current && current[key];\n  }, record);\n}","export var version = '1.5.0';","import { version } from './version';\nexport var userAgents = [{\n  segment: 'autocomplete-core',\n  version: version\n}];","export var HIGHLIGHT_PRE_TAG = '__aa-highlight__';\nexport var HIGHLIGHT_POST_TAG = '__/aa-highlight__';","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport function createRequester(fetcher) {\n  function execute(fetcherParams) {\n    return fetcher({\n      searchClient: fetcherParams.searchClient,\n      queries: fetcherParams.requests.map(function (x) {\n        return x.query;\n      })\n    }).then(function (responses) {\n      return responses.map(function (response, index) {\n        var _fetcherParams$reques = fetcherParams.requests[index],\n            sourceId = _fetcherParams$reques.sourceId,\n            transformResponse = _fetcherParams$reques.transformResponse;\n        return {\n          items: response,\n          sourceId: sourceId,\n          transformResponse: transformResponse\n        };\n      });\n    });\n  }\n\n  return function createSpecifiedRequester(requesterParams) {\n    return function requester(requestParams) {\n      return _objectSpread(_objectSpread({\n        execute: execute\n      }, requesterParams), requestParams);\n    };\n  };\n}","var _excluded = [\"params\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { userAgents as coreUserAgents } from '@algolia/autocomplete-shared';\nimport { HIGHLIGHT_PRE_TAG, HIGHLIGHT_POST_TAG } from '../constants';\nexport function fetchAlgoliaResults(_ref) {\n  var searchClient = _ref.searchClient,\n      queries = _ref.queries,\n      _ref$userAgents = _ref.userAgents,\n      userAgents = _ref$userAgents === void 0 ? [] : _ref$userAgents;\n\n  if (typeof searchClient.addAlgoliaAgent === 'function') {\n    var algoliaAgents = [].concat(_toConsumableArray(coreUserAgents), _toConsumableArray(userAgents));\n    algoliaAgents.forEach(function (_ref2) {\n      var segment = _ref2.segment,\n          version = _ref2.version;\n      searchClient.addAlgoliaAgent(segment, version);\n    });\n  }\n\n  return searchClient.search(queries.map(function (searchParameters) {\n    var params = searchParameters.params,\n        headers = _objectWithoutProperties(searchParameters, _excluded);\n\n    return _objectSpread(_objectSpread({}, headers), {}, {\n      params: _objectSpread({\n        hitsPerPage: 5,\n        highlightPreTag: HIGHLIGHT_PRE_TAG,\n        highlightPostTag: HIGHLIGHT_POST_TAG\n      }, params)\n    });\n  })).then(function (response) {\n    return response.results;\n  });\n}","import { version } from '@algolia/autocomplete-shared';\nexport var userAgents = [{\n  segment: 'autocomplete-js',\n  version: version\n}];","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { createRequester, fetchAlgoliaResults } from '@algolia/autocomplete-preset-algolia';\nimport { userAgents } from '../userAgents';\nexport var createAlgoliaRequester = createRequester(function (params) {\n  return fetchAlgoliaResults(_objectSpread(_objectSpread({}, params), {}, {\n    userAgents: userAgents\n  }));\n});","import { createAlgoliaRequester } from './createAlgoliaRequester';\n/**\n * Retrieves Algolia results from multiple indices.\n */\n\nexport var getAlgoliaResults = createAlgoliaRequester({\n  transformResponse: function transformResponse(response) {\n    return response.hits;\n  }\n});","/** @jsx createElement */\nimport { SourceTemplates } from '@algolia/autocomplete-js';\n\nimport { QuerySuggestionsHit } from './types';\n\nexport type GetTemplatesParams<TItem extends QuerySuggestionsHit> = {\n  onTapAhead(item: TItem): void;\n};\n\nexport function getTemplates<TItem extends QuerySuggestionsHit>({\n  onTapAhead,\n}: GetTemplatesParams<TItem>): SourceTemplates<TItem> {\n  return {\n    item({ item, createElement, components }) {\n      if (item.__autocomplete_qsCategory) {\n        return (\n          <div className=\"aa-ItemWrapper\">\n            <div className=\"aa-ItemContent aa-ItemContent--indented\">\n              <div className=\"aa-ItemContentSubtitle aa-ItemContentSubtitle--standalone\">\n                <span className=\"aa-ItemContentSubtitleIcon\" />\n                <span>\n                  in{' '}\n                  <span className=\"aa-ItemContentSubtitleCategory\">\n                    {item.__autocomplete_qsCategory}\n                  </span>\n                </span>\n              </div>\n            </div>\n          </div>\n        );\n      }\n\n      return (\n        <div className=\"aa-ItemWrapper\">\n          <div className=\"aa-ItemContent\">\n            <div className=\"aa-ItemIcon aa-ItemIcon--noBorder\">\n              <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                <path d=\"M16.041 15.856c-0.034 0.026-0.067 0.055-0.099 0.087s-0.060 0.064-0.087 0.099c-1.258 1.213-2.969 1.958-4.855 1.958-1.933 0-3.682-0.782-4.95-2.050s-2.050-3.017-2.050-4.95 0.782-3.682 2.050-4.95 3.017-2.050 4.95-2.050 3.682 0.782 4.95 2.050 2.050 3.017 2.050 4.95c0 1.886-0.745 3.597-1.959 4.856zM21.707 20.293l-3.675-3.675c1.231-1.54 1.968-3.493 1.968-5.618 0-2.485-1.008-4.736-2.636-6.364s-3.879-2.636-6.364-2.636-4.736 1.008-6.364 2.636-2.636 3.879-2.636 6.364 1.008 4.736 2.636 6.364 3.879 2.636 6.364 2.636c2.125 0 4.078-0.737 5.618-1.968l3.675 3.675c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414z\" />\n              </svg>\n            </div>\n            <div className=\"aa-ItemContentBody\">\n              <div className=\"aa-ItemContentTitle\">\n                <components.ReverseHighlight hit={item} attribute=\"query\" />\n              </div>\n            </div>\n          </div>\n          <div className=\"aa-ItemActions\">\n            <button\n              className=\"aa-ItemActionButton\"\n              title={`Fill query with \"${item.query}\"`}\n              onClick={(event) => {\n                event.preventDefault();\n                event.stopPropagation();\n                onTapAhead(item);\n              }}\n            >\n              <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                <path d=\"M8 17v-7.586l8.293 8.293c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414l-8.293-8.293h7.586c0.552 0 1-0.448 1-1s-0.448-1-1-1h-10c-0.552 0-1 0.448-1 1v10c0 0.552 0.448 1 1 1s1-0.448 1-1z\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n      );\n    },\n  };\n}\n","import {\n  AutocompleteState,\n  AutocompleteSource,\n  AutocompletePlugin,\n  getAlgoliaResults,\n} from '@algolia/autocomplete-js';\nimport { getAttributeValueByPath } from '@algolia/autocomplete-shared';\nimport { SearchOptions } from '@algolia/client-search';\nimport { SearchClient } from 'algoliasearch/lite';\n\nimport { getTemplates } from './getTemplates';\nimport { AutocompleteQuerySuggestionsHit, QuerySuggestionsHit } from './types';\n\nexport type CreateQuerySuggestionsPluginParams<\n  TItem extends QuerySuggestionsHit\n> = {\n  /**\n   * The initialized Algolia search client.\n   *\n   * @link https://www.algolia.com/doc/ui-libraries/autocomplete/api-reference/autocomplete-plugin-query-suggestions/createQuerySuggestionsPlugin/#param-searchclient\n   */\n  searchClient: SearchClient;\n  /**\n   * The index name.\n   *\n   * @link https://www.algolia.com/doc/ui-libraries/autocomplete/api-reference/autocomplete-plugin-query-suggestions/createQuerySuggestionsPlugin/#param-indexname\n   */\n  indexName: string;\n  /**\n   * A function returning [Algolia search parameters](https://www.algolia.com/doc/api-reference/search-api-parameters/).\n   *\n   * @link https://www.algolia.com/doc/ui-libraries/autocomplete/api-reference/autocomplete-plugin-query-suggestions/createQuerySuggestionsPlugin/#param-getsearchparams\n   */\n  getSearchParams?(params: { state: AutocompleteState<TItem> }): SearchOptions;\n  /**\n   * A function to transform the provided source.\n   *\n   * @link https://www.algolia.com/doc/ui-libraries/autocomplete/api-reference/autocomplete-plugin-query-suggestions/createQuerySuggestionsPlugin/#param-transformsource\n   */\n  transformSource?(params: {\n    source: AutocompleteSource<TItem>;\n    state: AutocompleteState<TItem>;\n    onTapAhead(item: TItem): void;\n  }): AutocompleteSource<TItem>;\n  /**\n   * The attribute or attribute path to display categories for.\n   *\n   * @example [\"instant_search\", \"facets\", \"exact_matches\", \"categories\"]\n   * @example [\"instant_search\", \"facets\", \"exact_matches\", \"hierarchicalCategories.lvl0\"]\n   * @link https://www.algolia.com/doc/ui-libraries/autocomplete/api-reference/autocomplete-plugin-query-suggestions/createQuerySuggestionsPlugin/#param-categoryattribute\n   */\n  categoryAttribute?: string | string[];\n  /**\n   * How many items to display categories for.\n   *\n   * @default 1\n   * @link https://www.algolia.com/doc/ui-libraries/autocomplete/api-reference/autocomplete-plugin-query-suggestions/createQuerySuggestionsPlugin/#param-itemswithcategories\n   */\n  itemsWithCategories?: number;\n  /**\n   * The number of categories to display per item.\n   *\n   * @default 1\n   * @link https://www.algolia.com/doc/ui-libraries/autocomplete/api-reference/autocomplete-plugin-query-suggestions/createQuerySuggestionsPlugin/#param-categoriesperitem\n   */\n  categoriesPerItem?: number;\n};\n\nexport function createQuerySuggestionsPlugin<\n  TItem extends AutocompleteQuerySuggestionsHit\n>(\n  options: CreateQuerySuggestionsPluginParams<TItem>\n): AutocompletePlugin<TItem, undefined> {\n  const {\n    searchClient,\n    indexName,\n    getSearchParams,\n    transformSource,\n    categoryAttribute,\n    itemsWithCategories,\n    categoriesPerItem,\n  } = getOptions(options);\n\n  return {\n    name: 'aa.querySuggestionsPlugin',\n    getSources({ query, setQuery, refresh, state }) {\n      function onTapAhead(item: TItem) {\n        setQuery(`${item.query} `);\n        refresh();\n      }\n\n      return [\n        transformSource({\n          source: {\n            sourceId: 'querySuggestionsPlugin',\n            getItemInputValue({ item }) {\n              return item.query;\n            },\n            getItems() {\n              return getAlgoliaResults({\n                searchClient,\n                queries: [\n                  {\n                    indexName,\n                    query,\n                    params: getSearchParams({\n                      state: state as AutocompleteState<TItem>,\n                    }),\n                  },\n                ],\n                transformResponse({ hits }) {\n                  const querySuggestionsHits: Array<\n                    AutocompleteQuerySuggestionsHit<typeof indexName>\n                  > = hits[0];\n\n                  if (!query || !categoryAttribute) {\n                    return querySuggestionsHits as any;\n                  }\n\n                  return querySuggestionsHits.reduce<\n                    Array<AutocompleteQuerySuggestionsHit<typeof indexName>>\n                  >((acc, current, i) => {\n                    const items: Array<\n                      AutocompleteQuerySuggestionsHit<typeof indexName>\n                    > = [current];\n\n                    if (i <= itemsWithCategories - 1) {\n                      const categories = getAttributeValueByPath(\n                        current,\n                        Array.isArray(categoryAttribute)\n                          ? categoryAttribute\n                          : [categoryAttribute]\n                      )\n                        .map((x) => x.value)\n                        .slice(0, categoriesPerItem);\n\n                      for (const category of categories) {\n                        items.push({\n                          __autocomplete_qsCategory: category,\n                          ...current,\n                        } as any);\n                      }\n                    }\n\n                    acc.push(...items);\n\n                    return acc;\n                  }, []);\n                },\n              });\n            },\n            templates: getTemplates({ onTapAhead }),\n          },\n          onTapAhead,\n          state: state as AutocompleteState<TItem>,\n        }),\n      ];\n    },\n    __autocomplete_pluginOptions: options,\n  };\n}\n\nfunction getOptions<TItem extends AutocompleteQuerySuggestionsHit>(\n  options: CreateQuerySuggestionsPluginParams<TItem>\n) {\n  return {\n    getSearchParams: () => ({}),\n    transformSource: ({ source }) => source,\n    itemsWithCategories: 1,\n    categoriesPerItem: 1,\n    ...options,\n  };\n}\n"],"names":["getAttributeValueByPath","record","path","reduce","current","key","version","userAgents","segment","HIGHLIGHT_PRE_TAG","HIGHLIGHT_POST_TAG","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","createRequester","fetcher","execute","fetcherParams","searchClient","queries","requests","map","x","query","then","responses","response","index","_fetcherParams$reques","sourceId","transformResponse","items","createSpecifiedRequester","requesterParams","requester","requestParams","_excluded","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","prototype","propertyIsEnumerable","call","sourceKeys","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","toString","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","arr2","fetchAlgoliaResults","_ref","_ref$userAgents","addAlgoliaAgent","algoliaAgents","concat","coreUserAgents","_ref2","search","searchParameters","params","headers","hitsPerPage","highlightPreTag","highlightPostTag","results","createAlgoliaRequester","getAlgoliaResults","hits","getTemplates","onTapAhead","item","createElement","components","__autocomplete_qsCategory","event","preventDefault","stopPropagation","createQuerySuggestionsPlugin","options","getOptions","indexName","getSearchParams","transformSource","categoryAttribute","itemsWithCategories","categoriesPerItem","getSources","setQuery","refresh","state","getItemInputValue","getItems","querySuggestionsHits","acc","categories","category","templates","__autocomplete_pluginOptions"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAO,SAASA,uBAAT,CAAiCC,MAAjC,EAAyCC,IAAzC,EAA+C;EACpD,SAAOA,IAAI,CAACC,MAAL,CAAY,UAAUC,OAAV,EAAmBC,GAAnB,EAAwB;EACzC,WAAOD,OAAO,IAAIA,OAAO,CAACC,GAAD,CAAzB;EACD,GAFM,EAEJJ,MAFI,CAAP;EAGD;;ECJM,IAAIK,OAAO,GAAG,OAAd;;ECCA,IAAIC,UAAU,GAAG,CAAC;EACvBC,EAAAA,OAAO,EAAE,mBADc;EAEvBF,EAAAA,OAAO,EAAEA;EAFc,CAAD,CAAjB;;ECDA,IAAIG,iBAAiB,GAAG,kBAAxB;EACA,IAAIC,kBAAkB,GAAG,mBAAzB;;ECDP,SAASC,SAAT,CAAiBC,MAAjB,EAAyBC,cAAzB,EAAyC;EAAE,MAAIC,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYF,MAAZ,CAAX;;EAAgC,MAAIG,MAAM,CAACC,qBAAX,EAAkC;EAAE,QAAIC,OAAO,GAAGF,MAAM,CAACC,qBAAP,CAA6BJ,MAA7B,CAAd;;EAAoD,QAAIC,cAAJ,EAAoB;EAAEI,MAAAA,OAAO,GAAGA,OAAO,CAACC,MAAR,CAAe,UAAUC,GAAV,EAAe;EAAE,eAAOJ,MAAM,CAACK,wBAAP,CAAgCR,MAAhC,EAAwCO,GAAxC,EAA6CE,UAApD;EAAiE,OAAjG,CAAV;EAA+G;;EAACP,IAAAA,IAAI,CAACQ,IAAL,CAAUC,KAAV,CAAgBT,IAAhB,EAAsBG,OAAtB;EAAiC;;EAAC,SAAOH,IAAP;EAAc;;EAEzV,SAASU,aAAT,CAAuBC,MAAvB,EAA+B;EAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;EAAE,QAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAT,IAAgB,IAAhB,GAAuBC,SAAS,CAACD,CAAD,CAAhC,GAAsC,EAAnD;;EAAuD,QAAIA,CAAC,GAAG,CAAR,EAAW;EAAEf,MAAAA,SAAO,CAACI,MAAM,CAACc,MAAD,CAAP,EAAiB,IAAjB,CAAP,CAA8BC,OAA9B,CAAsC,UAAUzB,GAAV,EAAe;EAAE0B,QAAAA,iBAAe,CAACN,MAAD,EAASpB,GAAT,EAAcwB,MAAM,CAACxB,GAAD,CAApB,CAAf;EAA4C,OAAnG;EAAuG,KAApH,MAA0H,IAAIU,MAAM,CAACiB,yBAAX,EAAsC;EAAEjB,MAAAA,MAAM,CAACkB,gBAAP,CAAwBR,MAAxB,EAAgCV,MAAM,CAACiB,yBAAP,CAAiCH,MAAjC,CAAhC;EAA4E,KAApH,MAA0H;EAAElB,MAAAA,SAAO,CAACI,MAAM,CAACc,MAAD,CAAP,CAAP,CAAwBC,OAAxB,CAAgC,UAAUzB,GAAV,EAAe;EAAEU,QAAAA,MAAM,CAACmB,cAAP,CAAsBT,MAAtB,EAA8BpB,GAA9B,EAAmCU,MAAM,CAACK,wBAAP,CAAgCS,MAAhC,EAAwCxB,GAAxC,CAAnC;EAAmF,OAApI;EAAwI;EAAE;;EAAC,SAAOoB,MAAP;EAAgB;;EAEthB,SAASM,iBAAT,CAAyBI,GAAzB,EAA8B9B,GAA9B,EAAmC+B,KAAnC,EAA0C;EAAE,MAAI/B,GAAG,IAAI8B,GAAX,EAAgB;EAAEpB,IAAAA,MAAM,CAACmB,cAAP,CAAsBC,GAAtB,EAA2B9B,GAA3B,EAAgC;EAAE+B,MAAAA,KAAK,EAAEA,KAAT;EAAgBf,MAAAA,UAAU,EAAE,IAA5B;EAAkCgB,MAAAA,YAAY,EAAE,IAAhD;EAAsDC,MAAAA,QAAQ,EAAE;EAAhE,KAAhC;EAA0G,GAA5H,MAAkI;EAAEH,IAAAA,GAAG,CAAC9B,GAAD,CAAH,GAAW+B,KAAX;EAAmB;;EAAC,SAAOD,GAAP;EAAa;;EAE1M,SAASI,eAAT,CAAyBC,OAAzB,EAAkC;EACvC,WAASC,OAAT,CAAiBC,aAAjB,EAAgC;EAC9B,WAAOF,OAAO,CAAC;EACbG,MAAAA,YAAY,EAAED,aAAa,CAACC,YADf;EAEbC,MAAAA,OAAO,EAAEF,aAAa,CAACG,QAAd,CAAuBC,GAAvB,CAA2B,UAAUC,CAAV,EAAa;EAC/C,eAAOA,CAAC,CAACC,KAAT;EACD,OAFQ;EAFI,KAAD,CAAP,CAKJC,IALI,CAKC,UAAUC,SAAV,EAAqB;EAC3B,aAAOA,SAAS,CAACJ,GAAV,CAAc,UAAUK,QAAV,EAAoBC,KAApB,EAA2B;EAC9C,YAAIC,qBAAqB,GAAGX,aAAa,CAACG,QAAd,CAAuBO,KAAvB,CAA5B;EAAA,YACIE,QAAQ,GAAGD,qBAAqB,CAACC,QADrC;EAAA,YAEIC,iBAAiB,GAAGF,qBAAqB,CAACE,iBAF9C;EAGA,eAAO;EACLC,UAAAA,KAAK,EAAEL,QADF;EAELG,UAAAA,QAAQ,EAAEA,QAFL;EAGLC,UAAAA,iBAAiB,EAAEA;EAHd,SAAP;EAKD,OATM,CAAP;EAUD,KAhBM,CAAP;EAiBD;;EAED,SAAO,SAASE,wBAAT,CAAkCC,eAAlC,EAAmD;EACxD,WAAO,SAASC,SAAT,CAAmBC,aAAnB,EAAkC;EACvC,aAAOpC,aAAa,CAACA,aAAa,CAAC;EACjCiB,QAAAA,OAAO,EAAEA;EADwB,OAAD,EAE/BiB,eAF+B,CAAd,EAECE,aAFD,CAApB;EAGD,KAJD;EAKD,GAND;EAOD;;EClCD,IAAIC,SAAS,GAAG,CAAC,QAAD,CAAhB;;EAEA,SAASlD,SAAT,CAAiBC,MAAjB,EAAyBC,cAAzB,EAAyC;EAAE,MAAIC,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYF,MAAZ,CAAX;;EAAgC,MAAIG,MAAM,CAACC,qBAAX,EAAkC;EAAE,QAAIC,OAAO,GAAGF,MAAM,CAACC,qBAAP,CAA6BJ,MAA7B,CAAd;;EAAoD,QAAIC,cAAJ,EAAoB;EAAEI,MAAAA,OAAO,GAAGA,OAAO,CAACC,MAAR,CAAe,UAAUC,GAAV,EAAe;EAAE,eAAOJ,MAAM,CAACK,wBAAP,CAAgCR,MAAhC,EAAwCO,GAAxC,EAA6CE,UAApD;EAAiE,OAAjG,CAAV;EAA+G;;EAACP,IAAAA,IAAI,CAACQ,IAAL,CAAUC,KAAV,CAAgBT,IAAhB,EAAsBG,OAAtB;EAAiC;;EAAC,SAAOH,IAAP;EAAc;;EAEzV,SAASU,eAAT,CAAuBC,MAAvB,EAA+B;EAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;EAAE,QAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAT,IAAgB,IAAhB,GAAuBC,SAAS,CAACD,CAAD,CAAhC,GAAsC,EAAnD;;EAAuD,QAAIA,CAAC,GAAG,CAAR,EAAW;EAAEf,MAAAA,SAAO,CAACI,MAAM,CAACc,MAAD,CAAP,EAAiB,IAAjB,CAAP,CAA8BC,OAA9B,CAAsC,UAAUzB,GAAV,EAAe;EAAE0B,QAAAA,iBAAe,CAACN,MAAD,EAASpB,GAAT,EAAcwB,MAAM,CAACxB,GAAD,CAApB,CAAf;EAA4C,OAAnG;EAAuG,KAApH,MAA0H,IAAIU,MAAM,CAACiB,yBAAX,EAAsC;EAAEjB,MAAAA,MAAM,CAACkB,gBAAP,CAAwBR,MAAxB,EAAgCV,MAAM,CAACiB,yBAAP,CAAiCH,MAAjC,CAAhC;EAA4E,KAApH,MAA0H;EAAElB,MAAAA,SAAO,CAACI,MAAM,CAACc,MAAD,CAAP,CAAP,CAAwBC,OAAxB,CAAgC,UAAUzB,GAAV,EAAe;EAAEU,QAAAA,MAAM,CAACmB,cAAP,CAAsBT,MAAtB,EAA8BpB,GAA9B,EAAmCU,MAAM,CAACK,wBAAP,CAAgCS,MAAhC,EAAwCxB,GAAxC,CAAnC;EAAmF,OAApI;EAAwI;EAAE;;EAAC,SAAOoB,MAAP;EAAgB;;EAEthB,SAASM,iBAAT,CAAyBI,GAAzB,EAA8B9B,GAA9B,EAAmC+B,KAAnC,EAA0C;EAAE,MAAI/B,GAAG,IAAI8B,GAAX,EAAgB;EAAEpB,IAAAA,MAAM,CAACmB,cAAP,CAAsBC,GAAtB,EAA2B9B,GAA3B,EAAgC;EAAE+B,MAAAA,KAAK,EAAEA,KAAT;EAAgBf,MAAAA,UAAU,EAAE,IAA5B;EAAkCgB,MAAAA,YAAY,EAAE,IAAhD;EAAsDC,MAAAA,QAAQ,EAAE;EAAhE,KAAhC;EAA0G,GAA5H,MAAkI;EAAEH,IAAAA,GAAG,CAAC9B,GAAD,CAAH,GAAW+B,KAAX;EAAmB;;EAAC,SAAOD,GAAP;EAAa;;EAEjN,SAAS2B,wBAAT,CAAkCjC,MAAlC,EAA0CkC,QAA1C,EAAoD;EAAE,MAAIlC,MAAM,IAAI,IAAd,EAAoB,OAAO,EAAP;;EAAW,MAAIJ,MAAM,GAAGuC,6BAA6B,CAACnC,MAAD,EAASkC,QAAT,CAA1C;;EAA8D,MAAI1D,GAAJ,EAASqB,CAAT;;EAAY,MAAIX,MAAM,CAACC,qBAAX,EAAkC;EAAE,QAAIiD,gBAAgB,GAAGlD,MAAM,CAACC,qBAAP,CAA6Ba,MAA7B,CAAvB;;EAA6D,SAAKH,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGuC,gBAAgB,CAACrC,MAAjC,EAAyCF,CAAC,EAA1C,EAA8C;EAAErB,MAAAA,GAAG,GAAG4D,gBAAgB,CAACvC,CAAD,CAAtB;EAA2B,UAAIqC,QAAQ,CAACG,OAAT,CAAiB7D,GAAjB,KAAyB,CAA7B,EAAgC;EAAU,UAAI,CAACU,MAAM,CAACoD,SAAP,CAAiBC,oBAAjB,CAAsCC,IAAtC,CAA2CxC,MAA3C,EAAmDxB,GAAnD,CAAL,EAA8D;EAAUoB,MAAAA,MAAM,CAACpB,GAAD,CAAN,GAAcwB,MAAM,CAACxB,GAAD,CAApB;EAA4B;EAAE;;EAAC,SAAOoB,MAAP;EAAgB;;EAE5e,SAASuC,6BAAT,CAAuCnC,MAAvC,EAA+CkC,QAA/C,EAAyD;EAAE,MAAIlC,MAAM,IAAI,IAAd,EAAoB,OAAO,EAAP;EAAW,MAAIJ,MAAM,GAAG,EAAb;EAAiB,MAAI6C,UAAU,GAAGvD,MAAM,CAACD,IAAP,CAAYe,MAAZ,CAAjB;EAAsC,MAAIxB,GAAJ,EAASqB,CAAT;;EAAY,OAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG4C,UAAU,CAAC1C,MAA3B,EAAmCF,CAAC,EAApC,EAAwC;EAAErB,IAAAA,GAAG,GAAGiE,UAAU,CAAC5C,CAAD,CAAhB;EAAqB,QAAIqC,QAAQ,CAACG,OAAT,CAAiB7D,GAAjB,KAAyB,CAA7B,EAAgC;EAAUoB,IAAAA,MAAM,CAACpB,GAAD,CAAN,GAAcwB,MAAM,CAACxB,GAAD,CAApB;EAA4B;;EAAC,SAAOoB,MAAP;EAAgB;;EAEnT,SAAS8C,kBAAT,CAA4BC,GAA5B,EAAiC;EAAE,SAAOC,kBAAkB,CAACD,GAAD,CAAlB,IAA2BE,gBAAgB,CAACF,GAAD,CAA3C,IAAoDG,6BAA2B,CAACH,GAAD,CAA/E,IAAwFI,kBAAkB,EAAjH;EAAsH;;EAEzJ,SAASA,kBAAT,GAA8B;EAAE,QAAM,IAAIC,SAAJ,CAAc,sIAAd,CAAN;EAA8J;;EAE9L,SAASF,6BAAT,CAAqCG,CAArC,EAAwCC,MAAxC,EAAgD;EAAE,MAAI,CAACD,CAAL,EAAQ;EAAQ,MAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B,OAAOE,mBAAiB,CAACF,CAAD,EAAIC,MAAJ,CAAxB;EAAqC,MAAIE,CAAC,GAAGlE,MAAM,CAACoD,SAAP,CAAiBe,QAAjB,CAA0Bb,IAA1B,CAA+BS,CAA/B,EAAkCK,KAAlC,CAAwC,CAAxC,EAA2C,CAAC,CAA5C,CAAR;EAAwD,MAAIF,CAAC,KAAK,QAAN,IAAkBH,CAAC,CAACM,WAAxB,EAAqCH,CAAC,GAAGH,CAAC,CAACM,WAAF,CAAcC,IAAlB;EAAwB,MAAIJ,CAAC,KAAK,KAAN,IAAeA,CAAC,KAAK,KAAzB,EAAgC,OAAOK,KAAK,CAACC,IAAN,CAAWT,CAAX,CAAP;EAAsB,MAAIG,CAAC,KAAK,WAAN,IAAqB,2CAA2CO,IAA3C,CAAgDP,CAAhD,CAAzB,EAA6E,OAAOD,mBAAiB,CAACF,CAAD,EAAIC,MAAJ,CAAxB;EAAsC;;EAEha,SAASL,gBAAT,CAA0Be,IAA1B,EAAgC;EAAE,MAAI,OAAOC,MAAP,KAAkB,WAAlB,IAAiCD,IAAI,CAACC,MAAM,CAACC,QAAR,CAAJ,IAAyB,IAA1D,IAAkEF,IAAI,CAAC,YAAD,CAAJ,IAAsB,IAA5F,EAAkG,OAAOH,KAAK,CAACC,IAAN,CAAWE,IAAX,CAAP;EAA0B;;EAE9J,SAAShB,kBAAT,CAA4BD,GAA5B,EAAiC;EAAE,MAAIc,KAAK,CAACM,OAAN,CAAcpB,GAAd,CAAJ,EAAwB,OAAOQ,mBAAiB,CAACR,GAAD,CAAxB;EAAgC;;EAE3F,SAASQ,mBAAT,CAA2BR,GAA3B,EAAgCqB,GAAhC,EAAqC;EAAE,MAAIA,GAAG,IAAI,IAAP,IAAeA,GAAG,GAAGrB,GAAG,CAAC5C,MAA7B,EAAqCiE,GAAG,GAAGrB,GAAG,CAAC5C,MAAV;;EAAkB,OAAK,IAAIF,CAAC,GAAG,CAAR,EAAWoE,IAAI,GAAG,IAAIR,KAAJ,CAAUO,GAAV,CAAvB,EAAuCnE,CAAC,GAAGmE,GAA3C,EAAgDnE,CAAC,EAAjD,EAAqD;EAAEoE,IAAAA,IAAI,CAACpE,CAAD,CAAJ,GAAU8C,GAAG,CAAC9C,CAAD,CAAb;EAAmB;;EAAC,SAAOoE,IAAP;EAAc;EAIhL,SAASC,mBAAT,CAA6BC,IAA7B,EAAmC;EACxC,MAAIrD,YAAY,GAAGqD,IAAI,CAACrD,YAAxB;EAAA,MACIC,OAAO,GAAGoD,IAAI,CAACpD,OADnB;EAAA,MAEIqD,eAAe,GAAGD,IAAI,CAACzF,UAF3B;EAAA,MAGIA,YAAU,GAAG0F,eAAe,KAAK,KAAK,CAAzB,GAA6B,EAA7B,GAAkCA,eAHnD;;EAKA,MAAI,OAAOtD,YAAY,CAACuD,eAApB,KAAwC,UAA5C,EAAwD;EACtD,QAAIC,aAAa,GAAG,GAAGC,MAAH,CAAU7B,kBAAkB,CAAC8B,UAAD,CAA5B,EAA8C9B,kBAAkB,CAAChE,YAAD,CAAhE,CAApB;EACA4F,IAAAA,aAAa,CAACrE,OAAd,CAAsB,UAAUwE,KAAV,EAAiB;EACrC,UAAI9F,OAAO,GAAG8F,KAAK,CAAC9F,OAApB;EAAA,UACIF,OAAO,GAAGgG,KAAK,CAAChG,OADpB;EAEAqC,MAAAA,YAAY,CAACuD,eAAb,CAA6B1F,OAA7B,EAAsCF,OAAtC;EACD,KAJD;EAKD;;EAED,SAAOqC,YAAY,CAAC4D,MAAb,CAAoB3D,OAAO,CAACE,GAAR,CAAY,UAAU0D,gBAAV,EAA4B;EACjE,QAAIC,MAAM,GAAGD,gBAAgB,CAACC,MAA9B;EAAA,QACIC,OAAO,GAAG5C,wBAAwB,CAAC0C,gBAAD,EAAmB3C,SAAnB,CADtC;;EAGA,WAAOrC,eAAa,CAACA,eAAa,CAAC,EAAD,EAAKkF,OAAL,CAAd,EAA6B,EAA7B,EAAiC;EACnDD,MAAAA,MAAM,EAAEjF,eAAa,CAAC;EACpBmF,QAAAA,WAAW,EAAE,CADO;EAEpBC,QAAAA,eAAe,EAAEnG,iBAFG;EAGpBoG,QAAAA,gBAAgB,EAAEnG;EAHE,OAAD,EAIlB+F,MAJkB;EAD8B,KAAjC,CAApB;EAOD,GAX0B,CAApB,EAWHxD,IAXG,CAWE,UAAUE,QAAV,EAAoB;EAC3B,WAAOA,QAAQ,CAAC2D,OAAhB;EACD,GAbM,CAAP;EAcD;;ECtDM,IAAIvG,YAAU,GAAG,CAAC;EACvBC,EAAAA,OAAO,EAAE,iBADc;EAEvBF,EAAAA,OAAO,EAAEA;EAFc,CAAD,CAAjB;;ECDP,SAASK,SAAT,CAAiBC,MAAjB,EAAyBC,cAAzB,EAAyC;EAAE,MAAIC,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYF,MAAZ,CAAX;;EAAgC,MAAIG,MAAM,CAACC,qBAAX,EAAkC;EAAE,QAAIC,OAAO,GAAGF,MAAM,CAACC,qBAAP,CAA6BJ,MAA7B,CAAd;;EAAoD,QAAIC,cAAJ,EAAoB;EAAEI,MAAAA,OAAO,GAAGA,OAAO,CAACC,MAAR,CAAe,UAAUC,GAAV,EAAe;EAAE,eAAOJ,MAAM,CAACK,wBAAP,CAAgCR,MAAhC,EAAwCO,GAAxC,EAA6CE,UAApD;EAAiE,OAAjG,CAAV;EAA+G;;EAACP,IAAAA,IAAI,CAACQ,IAAL,CAAUC,KAAV,CAAgBT,IAAhB,EAAsBG,OAAtB;EAAiC;;EAAC,SAAOH,IAAP;EAAc;;EAEzV,SAASU,eAAT,CAAuBC,MAAvB,EAA+B;EAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;EAAE,QAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAT,IAAgB,IAAhB,GAAuBC,SAAS,CAACD,CAAD,CAAhC,GAAsC,EAAnD;;EAAuD,QAAIA,CAAC,GAAG,CAAR,EAAW;EAAEf,MAAAA,SAAO,CAACI,MAAM,CAACc,MAAD,CAAP,EAAiB,IAAjB,CAAP,CAA8BC,OAA9B,CAAsC,UAAUzB,GAAV,EAAe;EAAE0B,QAAAA,iBAAe,CAACN,MAAD,EAASpB,GAAT,EAAcwB,MAAM,CAACxB,GAAD,CAApB,CAAf;EAA4C,OAAnG;EAAuG,KAApH,MAA0H,IAAIU,MAAM,CAACiB,yBAAX,EAAsC;EAAEjB,MAAAA,MAAM,CAACkB,gBAAP,CAAwBR,MAAxB,EAAgCV,MAAM,CAACiB,yBAAP,CAAiCH,MAAjC,CAAhC;EAA4E,KAApH,MAA0H;EAAElB,MAAAA,SAAO,CAACI,MAAM,CAACc,MAAD,CAAP,CAAP,CAAwBC,OAAxB,CAAgC,UAAUzB,GAAV,EAAe;EAAEU,QAAAA,MAAM,CAACmB,cAAP,CAAsBT,MAAtB,EAA8BpB,GAA9B,EAAmCU,MAAM,CAACK,wBAAP,CAAgCS,MAAhC,EAAwCxB,GAAxC,CAAnC;EAAmF,OAApI;EAAwI;EAAE;;EAAC,SAAOoB,MAAP;EAAgB;;EAEthB,SAASM,iBAAT,CAAyBI,GAAzB,EAA8B9B,GAA9B,EAAmC+B,KAAnC,EAA0C;EAAE,MAAI/B,GAAG,IAAI8B,GAAX,EAAgB;EAAEpB,IAAAA,MAAM,CAACmB,cAAP,CAAsBC,GAAtB,EAA2B9B,GAA3B,EAAgC;EAAE+B,MAAAA,KAAK,EAAEA,KAAT;EAAgBf,MAAAA,UAAU,EAAE,IAA5B;EAAkCgB,MAAAA,YAAY,EAAE,IAAhD;EAAsDC,MAAAA,QAAQ,EAAE;EAAhE,KAAhC;EAA0G,GAA5H,MAAkI;EAAEH,IAAAA,GAAG,CAAC9B,GAAD,CAAH,GAAW+B,KAAX;EAAmB;;EAAC,SAAOD,GAAP;EAAa;EAI1M,IAAI4E,sBAAsB,GAAGxE,eAAe,CAAC,UAAUkE,MAAV,EAAkB;EACpE,SAAOV,mBAAmB,CAACvE,eAAa,CAACA,eAAa,CAAC,EAAD,EAAKiF,MAAL,CAAd,EAA4B,EAA5B,EAAgC;EACtElG,IAAAA,UAAU,EAAEA;EAD0D,GAAhC,CAAd,CAA1B;EAGD,CAJkD,CAA5C;;ECPP;EACA;EACA;;EAEO,IAAIyG,iBAAiB,GAAGD,sBAAsB,CAAC;EACpDxD,EAAAA,iBAAiB,EAAE,SAASA,iBAAT,CAA2BJ,QAA3B,EAAqC;EACtD,WAAOA,QAAQ,CAAC8D,IAAhB;EACD;EAHmD,CAAD,CAA9C;;ECLP;EASO,SAASC,YAAT,OAE+C;EAAA,MADpDC,UACoD,QADpDA,UACoD;EACpD,SAAO;EACLC,IAAAA,IADK,uBACqC;EAAA,UAAnCA,IAAmC,SAAnCA,IAAmC;EAAA,UAA7BC,aAA6B,SAA7BA,aAA6B;EAAA,UAAdC,UAAc,SAAdA,UAAc;;EACxC,UAAIF,IAAI,CAACG,yBAAT,EAAoC;EAClC,eACE;EAAK,UAAA,SAAS,EAAC;EAAf,WACE;EAAK,UAAA,SAAS,EAAC;EAAf,WACE;EAAK,UAAA,SAAS,EAAC;EAAf,WACE;EAAM,UAAA,SAAS,EAAC;EAAhB,UADF,EAEE,kCACK,GADL,EAEE;EAAM,UAAA,SAAS,EAAC;EAAhB,WACGH,IAAI,CAACG,yBADR,CAFF,CAFF,CADF,CADF,CADF;EAeD;;EAED,aACE;EAAK,QAAA,SAAS,EAAC;EAAf,SACE;EAAK,QAAA,SAAS,EAAC;EAAf,SACE;EAAK,QAAA,SAAS,EAAC;EAAf,SACE;EAAK,QAAA,OAAO,EAAC,WAAb;EAAyB,QAAA,IAAI,EAAC;EAA9B,SACE;EAAM,QAAA,CAAC,EAAC;EAAR,QADF,CADF,CADF,EAME;EAAK,QAAA,SAAS,EAAC;EAAf,SACE;EAAK,QAAA,SAAS,EAAC;EAAf,SACE,cAAC,UAAD,CAAY,gBAAZ;EAA6B,QAAA,GAAG,EAAEH,IAAlC;EAAwC,QAAA,SAAS,EAAC;EAAlD,QADF,CADF,CANF,CADF,EAaE;EAAK,QAAA,SAAS,EAAC;EAAf,SACE;EACE,QAAA,SAAS,EAAC,qBADZ;EAEE,QAAA,KAAK,8BAAsBA,IAAI,CAACpE,KAA3B,OAFP;EAGE,QAAA,OAAO,EAAE,iBAACwE,KAAD,EAAW;EAClBA,UAAAA,KAAK,CAACC,cAAN;EACAD,UAAAA,KAAK,CAACE,eAAN;EACAP,UAAAA,UAAU,CAACC,IAAD,CAAV;EACD;EAPH,SASE;EAAK,QAAA,OAAO,EAAC,WAAb;EAAyB,QAAA,IAAI,EAAC;EAA9B,SACE;EAAM,QAAA,CAAC,EAAC;EAAR,QADF,CATF,CADF,CAbF,CADF;EA+BD;EAnDI,GAAP;EAqDD;;ECGM,SAASO,4BAAT,CAGLC,OAHK,EAIiC;EACtC,oBAQIC,UAAU,CAACD,OAAD,CARd;EAAA,MACEjF,YADF,eACEA,YADF;EAAA,MAEEmF,SAFF,eAEEA,SAFF;EAAA,MAGEC,eAHF,eAGEA,eAHF;EAAA,MAIEC,eAJF,eAIEA,eAJF;EAAA,MAKEC,iBALF,eAKEA,iBALF;EAAA,MAMEC,mBANF,eAMEA,mBANF;EAAA,MAOEC,iBAPF,eAOEA,iBAPF;;EAUA,SAAO;EACL9C,IAAAA,IAAI,EAAE,2BADD;EAEL+C,IAAAA,UAFK,4BAE2C;EAAA,UAAnCpF,KAAmC,QAAnCA,KAAmC;EAAA,UAA5BqF,QAA4B,QAA5BA,QAA4B;EAAA,UAAlBC,OAAkB,QAAlBA,OAAkB;EAAA,UAATC,KAAS,QAATA,KAAS;;EAC9C,eAASpB,UAAT,CAAoBC,IAApB,EAAiC;EAC/BiB,QAAAA,QAAQ,WAAIjB,IAAI,CAACpE,KAAT,OAAR;EACAsF,QAAAA,OAAO;EACR;;EAED,aAAO,CACLN,eAAe,CAAC;EACdnG,QAAAA,MAAM,EAAE;EACNyB,UAAAA,QAAQ,EAAE,wBADJ;EAENkF,UAAAA,iBAFM,oCAEsB;EAAA,gBAARpB,IAAQ,SAARA,IAAQ;EAC1B,mBAAOA,IAAI,CAACpE,KAAZ;EACD,WAJK;EAKNyF,UAAAA,QALM,sBAKK;EACT,mBAAOzB,iBAAiB,CAAC;EACvBrE,cAAAA,YAAY,EAAZA,YADuB;EAEvBC,cAAAA,OAAO,EAAE,CACP;EACEkF,gBAAAA,SAAS,EAATA,SADF;EAEE9E,gBAAAA,KAAK,EAALA,KAFF;EAGEyD,gBAAAA,MAAM,EAAEsB,eAAe,CAAC;EACtBQ,kBAAAA,KAAK,EAAEA;EADe,iBAAD;EAHzB,eADO,CAFc;EAWvBhF,cAAAA,iBAXuB,oCAWK;EAAA,oBAAR0D,IAAQ,SAARA,IAAQ;EAC1B,oBAAMyB,oBAEL,GAAGzB,IAAI,CAAC,CAAD,CAFR;;EAIA,oBAAI,CAACjE,KAAD,IAAU,CAACiF,iBAAf,EAAkC;EAChC,yBAAOS,oBAAP;EACD;;EAED,uBAAOA,oBAAoB,CAACvI,MAArB,CAEL,UAACwI,GAAD,EAAMvI,OAAN,EAAesB,CAAf,EAAqB;EACrB,sBAAM8B,KAEL,GAAG,CAACpD,OAAD,CAFJ;;EAIA,sBAAIsB,CAAC,IAAIwG,mBAAmB,GAAG,CAA/B,EAAkC;EAChC,wBAAMU,UAAU,GAAG5I,uBAAuB,CACxCI,OADwC,EAExCkF,KAAK,CAACM,OAAN,CAAcqC,iBAAd,IACIA,iBADJ,GAEI,CAACA,iBAAD,CAJoC,CAAvB,CAMhBnF,GANgB,CAMZ,UAACC,CAAD;EAAA,6BAAOA,CAAC,CAACX,KAAT;EAAA,qBANY,EAOhB+C,KAPgB,CAOV,CAPU,EAOPgD,iBAPO,CAAnB;;EADgC,+DAUTS,UAVS;EAAA;;EAAA;EAUhC,0EAAmC;EAAA,4BAAxBC,QAAwB;EACjCrF,wBAAAA,KAAK,CAAClC,IAAN;EACEiG,0BAAAA,yBAAyB,EAAEsB;EAD7B,2BAEKzI,OAFL;EAID;EAf+B;EAAA;EAAA;EAAA;EAAA;EAgBjC;;EAEDuI,kBAAAA,GAAG,CAACrH,IAAJ,OAAAqH,GAAG,EAASnF,KAAT,CAAH;EAEA,yBAAOmF,GAAP;EACD,iBA5BM,EA4BJ,EA5BI,CAAP;EA6BD;EAjDsB,aAAD,CAAxB;EAmDD,WAzDK;EA0DNG,UAAAA,SAAS,EAAE5B,YAAY,CAAC;EAAEC,YAAAA,UAAU,EAAVA;EAAF,WAAD;EA1DjB,SADM;EA6DdA,QAAAA,UAAU,EAAVA,UA7Dc;EA8DdoB,QAAAA,KAAK,EAAEA;EA9DO,OAAD,CADV,CAAP;EAkED,KA1EI;EA2ELQ,IAAAA,4BAA4B,EAAEnB;EA3EzB,GAAP;EA6ED;;EAED,SAASC,UAAT,CACED,OADF,EAEE;EACA;EACEG,IAAAA,eAAe,EAAE;EAAA,aAAO,EAAP;EAAA,KADnB;EAEEC,IAAAA,eAAe,EAAE;EAAA,UAAGnG,MAAH,SAAGA,MAAH;EAAA,aAAgBA,MAAhB;EAAA,KAFnB;EAGEqG,IAAAA,mBAAmB,EAAE,CAHvB;EAIEC,IAAAA,iBAAiB,EAAE;EAJrB,KAKKP,OALL;EAOD;;;;;;;;;;;"}